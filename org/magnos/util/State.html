<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!--NewPage-->
<HTML>
<HEAD>
<!-- Generated by javadoc (build 1.6.0_45) on Fri Jun 21 19:54:44 EDT 2013 -->
<TITLE>
State
</TITLE>

<META NAME="date" CONTENT="2013-06-21">

<LINK REL ="stylesheet" TYPE="text/css" HREF="../../../stylesheet.css" TITLE="Style">

<SCRIPT type="text/javascript">
function windowTitle()
{
    if (location.href.indexOf('is-external=true') == -1) {
        parent.document.title="State";
    }
}
</SCRIPT>
<NOSCRIPT>
</NOSCRIPT>

</HEAD>

<BODY BGCOLOR="white" onload="windowTitle();">
<HR>


<!-- ========= START OF TOP NAVBAR ======= -->
<A NAME="navbar_top"><!-- --></A>
<A HREF="#skip-navbar_top" title="Skip navigation links"></A>
<TABLE BORDER="0" WIDTH="100%" CELLPADDING="1" CELLSPACING="0" SUMMARY="">
<TR>
<TD COLSPAN=2 BGCOLOR="#EEEEFF" CLASS="NavBarCell1">
<A NAME="navbar_top_firstrow"><!-- --></A>
<TABLE BORDER="0" CELLPADDING="0" CELLSPACING="3" SUMMARY="">
  <TR ALIGN="center" VALIGN="top">
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../org/magnos/util/package-summary.html"><FONT CLASS="NavBarFont1"><B>Package</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#FFFFFF" CLASS="NavBarCell1Rev"> &nbsp;<FONT CLASS="NavBarFont1Rev"><B>Class</B></FONT>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="class-use/State.html"><FONT CLASS="NavBarFont1"><B>Use</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-tree.html"><FONT CLASS="NavBarFont1"><B>Tree</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../deprecated-list.html"><FONT CLASS="NavBarFont1"><B>Deprecated</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../index-files/index-1.html"><FONT CLASS="NavBarFont1"><B>Index</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../help-doc.html"><FONT CLASS="NavBarFont1"><B>Help</B></FONT></A>&nbsp;</TD>
  </TR>
</TABLE>
</TD>
<TD ALIGN="right" VALIGN="top" ROWSPAN=3><EM>
</EM>
</TD>
</TR>

<TR>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
&nbsp;<A HREF="../../../org/magnos/util/Sleepable.html" title="interface in org.magnos.util"><B>PREV CLASS</B></A>&nbsp;
&nbsp;NEXT CLASS</FONT></TD>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
  <A HREF="../../../index.html?org/magnos/util/State.html" target="_top"><B>FRAMES</B></A>  &nbsp;
&nbsp;<A HREF="State.html" target="_top"><B>NO FRAMES</B></A>  &nbsp;
&nbsp;<SCRIPT type="text/javascript">
  <!--
  if(window==top) {
    document.writeln('<A HREF="../../../allclasses-noframe.html"><B>All Classes</B></A>');
  }
  //-->
</SCRIPT>
<NOSCRIPT>
  <A HREF="../../../allclasses-noframe.html"><B>All Classes</B></A>
</NOSCRIPT>


</FONT></TD>
</TR>
<TR>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
  SUMMARY:&nbsp;NESTED&nbsp;|&nbsp;FIELD&nbsp;|&nbsp;<A HREF="#constructor_summary">CONSTR</A>&nbsp;|&nbsp;<A HREF="#method_summary">METHOD</A></FONT></TD>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
DETAIL:&nbsp;FIELD&nbsp;|&nbsp;<A HREF="#constructor_detail">CONSTR</A>&nbsp;|&nbsp;<A HREF="#method_detail">METHOD</A></FONT></TD>
</TR>
</TABLE>
<A NAME="skip-navbar_top"></A>
<!-- ========= END OF TOP NAVBAR ========= -->

<HR>
<!-- ======== START OF CLASS DATA ======== -->
<H2>
<FONT SIZE="-1">
org.magnos.util</FONT>
<BR>
Class State</H2>
<PRE>
java.lang.Object
  <IMG SRC="../../../resources/inherit.gif" ALT="extended by "><B>org.magnos.util.State</B>
</PRE>
<HR>
<DL>
<DT><PRE>public class <B>State</B><DT>extends java.lang.Object</DL>
</PRE>

<P>
A Thread-safe Finite State Machine utility. The control of he states this 
 machine holds is the responsibility of the developer. This machine can
 hold several states at once, but can only have a maximum of 32 states. 
 Invokers can wait for states to be reached, and can timeout if a maximum
 wait time is given. States in this machine must be power-of-2 numbers and
 must be unique among the possible states in the machine. 
 
 <h1>Example Usage</h1>
 <pre>
 final int Initialized  = State.create(0);
 final int Running              = State.create(1);
 final int Stopped              = State.create(2);
 final int Error                        = State.create(3);      // a sub-state of Stopped
 final int Success              = State.create(4);  // a sub-state of Stopped
 
 State s = new State(Initialized);
 
 if (s.cas(Initialize, Running)) {
        // updated!
 }
 
 // lock s entirely for more advanced state manipulation
 synchronized (s) {
        if (s.has(Running)) {
                try {
                        // do something (small) that could throw an error
                        s.set(Stopped | Success);
                }
                catch (Exception e) {
                        s.set(Stopped | Error);
                }
                if (s.has(Error)) {
                        // An error occurred!
                }
        }
 }
 </pre>
<P>

<P>
<DL>
<DT><B>Author:</B></DT>
  <DD>Philip Diffenderfer</DD>
</DL>
<HR>

<P>

<!-- ======== CONSTRUCTOR SUMMARY ======== -->

<A NAME="constructor_summary"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TH ALIGN="left" COLSPAN="2"><FONT SIZE="+2">
<B>Constructor Summary</B></FONT></TH>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD><CODE><B><A HREF="../../../org/magnos/util/State.html#State()">State</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Instantiates a new State machine.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD><CODE><B><A HREF="../../../org/magnos/util/State.html#State(int)">State</A></B>(int&nbsp;initialState)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Instantiates a new State machine given its initial state(s).</TD>
</TR>
</TABLE>
&nbsp;
<!-- ========== METHOD SUMMARY =========== -->

<A NAME="method_summary"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TH ALIGN="left" COLSPAN="2"><FONT SIZE="+2">
<B>Method Summary</B></FONT></TH>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../org/magnos/util/State.html#add(int)">add</A></B>(int&nbsp;addState)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Adds state(s) to this machine.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;boolean</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../org/magnos/util/State.html#cas(int, int)">cas</A></B>(int&nbsp;desiredState,
    int&nbsp;newState)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Performs a Compare-And-Set on the state.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../org/magnos/util/State.html#clear()">clear</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Removes all states from this machine.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>static&nbsp;int</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../org/magnos/util/State.html#create(int)">create</A></B>(int&nbsp;index)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Creates a state value (power-of-2 number) for use in a State Machine.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;boolean</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../org/magnos/util/State.html#equals(int)">equals</A></B>(int&nbsp;exactState)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Determines whether this machine has the exact states given.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;int</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../org/magnos/util/State.html#get()">get</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Returns the state(s) of the machine.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;boolean</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../org/magnos/util/State.html#has(int)">has</A></B>(int&nbsp;desiredState)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Determines whether this machine has any of the states given.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../org/magnos/util/State.html#lazyAdd(int)">lazyAdd</A></B>(int&nbsp;addState)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Adds state(s) to this machine.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;int</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../org/magnos/util/State.html#lazyGet()">lazyGet</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Returns the state(s) of the machine.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../org/magnos/util/State.html#lazyRemove(int)">lazyRemove</A></B>(int&nbsp;removeState)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Removes the state(s) from this machine.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../org/magnos/util/State.html#lazySet(int)">lazySet</A></B>(int&nbsp;newState)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Overrides the current state(s) with the given state(s).</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../org/magnos/util/State.html#remove(int)">remove</A></B>(int&nbsp;removeState)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Removes the state(s) from this machine.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../org/magnos/util/State.html#set(int)">set</A></B>(int&nbsp;newState)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Overrides the current state(s) with the given state(s).</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;int</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../org/magnos/util/State.html#states()">states</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Calculates the number of states in this machine.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;boolean</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../org/magnos/util/State.html#waitFor(int)">waitFor</A></B>(int&nbsp;desiredState)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Indefinitely waits for any of the given states to be reached.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;boolean</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../org/magnos/util/State.html#waitFor(int, long)">waitFor</A></B>(int&nbsp;desiredState,
        long&nbsp;timeout)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Waits for any of the given states to be reached, or for a specific amount
 of time to elapse.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;int</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../org/magnos/util/State.html#waitForChange()">waitForChange</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Waits for any change in state and returns the new state.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../org/magnos/util/State.html#wakeup()">wakeup</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Notifies all threads waiting for a set of states.</TD>
</TR>
</TABLE>
&nbsp;<A NAME="methods_inherited_from_class_java.lang.Object"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#EEEEFF" CLASS="TableSubHeadingColor">
<TH ALIGN="left"><B>Methods inherited from class java.lang.Object</B></TH>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD><CODE>clone, equals, finalize, getClass, hashCode, notify, notifyAll, toString, wait, wait, wait</CODE></TD>
</TR>
</TABLE>
&nbsp;
<P>

<!-- ========= CONSTRUCTOR DETAIL ======== -->

<A NAME="constructor_detail"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TH ALIGN="left" COLSPAN="1"><FONT SIZE="+2">
<B>Constructor Detail</B></FONT></TH>
</TR>
</TABLE>

<A NAME="State()"><!-- --></A><H3>
State</H3>
<PRE>
public <B>State</B>()</PRE>
<DL>
<DD>Instantiates a new State machine.
<P>
</DL>
<HR>

<A NAME="State(int)"><!-- --></A><H3>
State</H3>
<PRE>
public <B>State</B>(int&nbsp;initialState)</PRE>
<DL>
<DD>Instantiates a new State machine given its initial state(s).
<P>
<DL>
<DT><B>Parameters:</B><DD><CODE>initialState</CODE> - The initial state(s) of the machine.</DL>
</DL>

<!-- ============ METHOD DETAIL ========== -->

<A NAME="method_detail"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TH ALIGN="left" COLSPAN="1"><FONT SIZE="+2">
<B>Method Detail</B></FONT></TH>
</TR>
</TABLE>

<A NAME="set(int)"><!-- --></A><H3>
set</H3>
<PRE>
public void <B>set</B>(int&nbsp;newState)</PRE>
<DL>
<DD>Overrides the current state(s) with the given state(s). If any thread is 
 waiting for one of the provided states they will be notified and that
 thread will resume execution.
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>newState</CODE> - The new state(s) of the machine.</DL>
</DD>
</DL>
<HR>

<A NAME="clear()"><!-- --></A><H3>
clear</H3>
<PRE>
public void <B>clear</B>()</PRE>
<DL>
<DD>Removes all states from this machine.
<P>
<DD><DL>
</DL>
</DD>
</DL>
<HR>

<A NAME="add(int)"><!-- --></A><H3>
add</H3>
<PRE>
public void <B>add</B>(int&nbsp;addState)</PRE>
<DL>
<DD>Adds state(s) to this machine. If this machine already has this state
 then this will have no effect. If any thread is waiting for any of the
 states being added it will be notified and will resume execution.
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>addState</CODE> - The state(s) to add to the machine.</DL>
</DD>
</DL>
<HR>

<A NAME="remove(int)"><!-- --></A><H3>
remove</H3>
<PRE>
public void <B>remove</B>(int&nbsp;removeState)</PRE>
<DL>
<DD>Removes the state(s) from this machine. If this machine already doesn't
 have any of the states given then this will have no effect.
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>removeState</CODE> - </DL>
</DD>
</DL>
<HR>

<A NAME="get()"><!-- --></A><H3>
get</H3>
<PRE>
public int <B>get</B>()</PRE>
<DL>
<DD>Returns the state(s) of the machine.
<P>
<DD><DL>

<DT><B>Returns:</B><DD>The current state(s) of the machine.</DL>
</DD>
</DL>
<HR>

<A NAME="has(int)"><!-- --></A><H3>
has</H3>
<PRE>
public boolean <B>has</B>(int&nbsp;desiredState)</PRE>
<DL>
<DD>Determines whether this machine has any of the states given.
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>desiredState</CODE> - The set of states to check if any exist.
<DT><B>Returns:</B><DD>True if this machine has any of the given states, otherwise false.</DL>
</DD>
</DL>
<HR>

<A NAME="equals(int)"><!-- --></A><H3>
equals</H3>
<PRE>
public boolean <B>equals</B>(int&nbsp;exactState)</PRE>
<DL>
<DD>Determines whether this machine has the exact states given.
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>exactState</CODE> - The set of states this machine must have exactly.
<DT><B>Returns:</B><DD>True if this machine has the exact states, otherwise false.</DL>
</DD>
</DL>
<HR>

<A NAME="cas(int, int)"><!-- --></A><H3>
cas</H3>
<PRE>
public boolean <B>cas</B>(int&nbsp;desiredState,
                   int&nbsp;newState)</PRE>
<DL>
<DD>Performs a Compare-And-Set on the state. If this machine has any of the
 desired states then this machine's state will be set to the newState.
 
 <h1>Example</h1>
 <pre>
 State s = ...
 // if the state is running or waiting, set it to paused
 if (s.cas(Running | Waiting, Paused)) {
        // state has been successfully paused!
 }
 </pre>
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>desiredState</CODE> - The set of states to check if any exist.<DD><CODE>newState</CODE> - The new state(s) of the machine.
<DT><B>Returns:</B><DD>True if this machine was set to the new state(s).</DL>
</DD>
</DL>
<HR>

<A NAME="states()"><!-- --></A><H3>
states</H3>
<PRE>
public int <B>states</B>()</PRE>
<DL>
<DD>Calculates the number of states in this machine.
<P>
<DD><DL>

<DT><B>Returns:</B><DD>The number of states in this machine.</DL>
</DD>
</DL>
<HR>

<A NAME="waitFor(int)"><!-- --></A><H3>
waitFor</H3>
<PRE>
public boolean <B>waitFor</B>(int&nbsp;desiredState)</PRE>
<DL>
<DD>Indefinitely waits for any of the given states to be reached. If the
 current thread is interrupted this will return before the state is 
 reached.
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>desiredState</CODE> - The set of states to wait for until any exist.
<DT><B>Returns:</B><DD>True if any of the given states are reached, otherwise false.</DL>
</DD>
</DL>
<HR>

<A NAME="waitFor(int, long)"><!-- --></A><H3>
waitFor</H3>
<PRE>
public boolean <B>waitFor</B>(int&nbsp;desiredState,
                       long&nbsp;timeout)</PRE>
<DL>
<DD>Waits for any of the given states to be reached, or for a specific amount
 of time to elapse. If the current thread is interrupted or the thread
 has waited more than the provided timeout time this will return before 
 the state is reached.
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>desiredState</CODE> - The set of states to wait for until any exist.<DD><CODE>timeout</CODE> - The maximum amount of time in milliseconds to wait for any of the
                given states.
<DT><B>Returns:</B><DD>True if any of the given states are reached, otherwise false.</DL>
</DD>
</DL>
<HR>

<A NAME="wakeup()"><!-- --></A><H3>
wakeup</H3>
<PRE>
public void <B>wakeup</B>()</PRE>
<DL>
<DD>Notifies all threads waiting for a set of states. The waiting threads
 will be awaken and one at a time they will check the state of the machine
 for their desired set of states.
<P>
<DD><DL>
</DL>
</DD>
</DL>
<HR>

<A NAME="lazySet(int)"><!-- --></A><H3>
lazySet</H3>
<PRE>
public void <B>lazySet</B>(int&nbsp;newState)</PRE>
<DL>
<DD>Overrides the current state(s) with the given state(s). This will not
 obtain the state machine lock before setting the state. This should
 only be used if the invoking thread already has synchronized on this
 state and will invoke wakeup() before the synchronized block ends.
 
 <h1>Example</h1>
 <pre>
 State s = ...
 synchronized (s) {
        s.lazySet(Running);
        // other processing...
        s.wakeup();
 }
 </pre>
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>newState</CODE> - The new state(s) of the machine.</DL>
</DD>
</DL>
<HR>

<A NAME="lazyGet()"><!-- --></A><H3>
lazyGet</H3>
<PRE>
public int <B>lazyGet</B>()</PRE>
<DL>
<DD>Returns the state(s) of the machine. This will not obtain the state 
 machine lock before setting the state. This should only be used if the 
 invoking thread already has synchronized on this state.
 
 <h1>Example</h1>
 <pre>
 State s = ...
 synchronized (s) {
        int states = s.lazyGet();
        // other processing...
 }
 </pre>
<P>
<DD><DL>

<DT><B>Returns:</B><DD>The current state(s) of the machine.</DL>
</DD>
</DL>
<HR>

<A NAME="lazyAdd(int)"><!-- --></A><H3>
lazyAdd</H3>
<PRE>
public void <B>lazyAdd</B>(int&nbsp;addState)</PRE>
<DL>
<DD>Adds state(s) to this machine. If this machine already has this state
 then this will have no effect. This will not obtain the state machine 
 lock before setting the state. This should only be used if the invoking 
 thread already has synchronized on this state and will invoke wakeup() 
 before the synchronized block ends.
 
 <h1>Example</h1>
 <pre>
 State s = ...
 synchronized (s) {
        s.lazyAdd(Waiting);
        // other processing...
        s.wakeup();
 }
 </pre>
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>addState</CODE> - The state(s) to add to the machine.</DL>
</DD>
</DL>
<HR>

<A NAME="lazyRemove(int)"><!-- --></A><H3>
lazyRemove</H3>
<PRE>
public void <B>lazyRemove</B>(int&nbsp;removeState)</PRE>
<DL>
<DD>Removes the state(s) from this machine. If this machine already doesn't
 have any of the states given then this will have no effect. This will not
 obtain the state machine lock before setting the state. This should only
 be used if the invoking thread already has synchronized on this state and
 will invoke wakeup() before the synchronized block ends. 
 
 <h1>Example</h1>
 <pre>
 State s = ...
 synchronized (s) {
        s.lazyRemove(Active);
        // other processing...
        s.wakeup();
 }
 </pre>
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>removeState</CODE> - </DL>
</DD>
</DL>
<HR>

<A NAME="waitForChange()"><!-- --></A><H3>
waitForChange</H3>
<PRE>
public int <B>waitForChange</B>()</PRE>
<DL>
<DD>Waits for any change in state and returns the new state. If the current
 thread is interrupted this may return the original state(s). This may be
 useful if a thread is waiting for an exact set of states.
 
 <h1>Example</h1>
 <pre>
 State s = ...
 synchronized (s) {
        while (!s.equals(Waiting)) {
                s.waitForChange();
        }
 }
 </pre>
<P>
<DD><DL>

<DT><B>Returns:</B><DD>The state(s) of the machine.</DL>
</DD>
</DL>
<HR>

<A NAME="create(int)"><!-- --></A><H3>
create</H3>
<PRE>
public static int <B>create</B>(int&nbsp;index)</PRE>
<DL>
<DD>Creates a state value (power-of-2 number) for use in a State Machine.
 The given index should be between 0 and 31, inclusive. If anything beyond
 31 is given a RuntimeException will be thrown. For a given state machine
 no state should have the same index (a.k.a. same number).
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>index</CODE> - The unique index of the state in the machine.
<DT><B>Returns:</B><DD>A power-of-2 number representing the state value.</DL>
</DD>
</DL>
<!-- ========= END OF CLASS DATA ========= -->
<HR>


<!-- ======= START OF BOTTOM NAVBAR ====== -->
<A NAME="navbar_bottom"><!-- --></A>
<A HREF="#skip-navbar_bottom" title="Skip navigation links"></A>
<TABLE BORDER="0" WIDTH="100%" CELLPADDING="1" CELLSPACING="0" SUMMARY="">
<TR>
<TD COLSPAN=2 BGCOLOR="#EEEEFF" CLASS="NavBarCell1">
<A NAME="navbar_bottom_firstrow"><!-- --></A>
<TABLE BORDER="0" CELLPADDING="0" CELLSPACING="3" SUMMARY="">
  <TR ALIGN="center" VALIGN="top">
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../org/magnos/util/package-summary.html"><FONT CLASS="NavBarFont1"><B>Package</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#FFFFFF" CLASS="NavBarCell1Rev"> &nbsp;<FONT CLASS="NavBarFont1Rev"><B>Class</B></FONT>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="class-use/State.html"><FONT CLASS="NavBarFont1"><B>Use</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-tree.html"><FONT CLASS="NavBarFont1"><B>Tree</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../deprecated-list.html"><FONT CLASS="NavBarFont1"><B>Deprecated</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../index-files/index-1.html"><FONT CLASS="NavBarFont1"><B>Index</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../help-doc.html"><FONT CLASS="NavBarFont1"><B>Help</B></FONT></A>&nbsp;</TD>
  </TR>
</TABLE>
</TD>
<TD ALIGN="right" VALIGN="top" ROWSPAN=3><EM>
</EM>
</TD>
</TR>

<TR>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
&nbsp;<A HREF="../../../org/magnos/util/Sleepable.html" title="interface in org.magnos.util"><B>PREV CLASS</B></A>&nbsp;
&nbsp;NEXT CLASS</FONT></TD>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
  <A HREF="../../../index.html?org/magnos/util/State.html" target="_top"><B>FRAMES</B></A>  &nbsp;
&nbsp;<A HREF="State.html" target="_top"><B>NO FRAMES</B></A>  &nbsp;
&nbsp;<SCRIPT type="text/javascript">
  <!--
  if(window==top) {
    document.writeln('<A HREF="../../../allclasses-noframe.html"><B>All Classes</B></A>');
  }
  //-->
</SCRIPT>
<NOSCRIPT>
  <A HREF="../../../allclasses-noframe.html"><B>All Classes</B></A>
</NOSCRIPT>


</FONT></TD>
</TR>
<TR>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
  SUMMARY:&nbsp;NESTED&nbsp;|&nbsp;FIELD&nbsp;|&nbsp;<A HREF="#constructor_summary">CONSTR</A>&nbsp;|&nbsp;<A HREF="#method_summary">METHOD</A></FONT></TD>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
DETAIL:&nbsp;FIELD&nbsp;|&nbsp;<A HREF="#constructor_detail">CONSTR</A>&nbsp;|&nbsp;<A HREF="#method_detail">METHOD</A></FONT></TD>
</TR>
</TABLE>
<A NAME="skip-navbar_bottom"></A>
<!-- ======== END OF BOTTOM NAVBAR ======= -->

<HR>

</BODY>
</HTML>
